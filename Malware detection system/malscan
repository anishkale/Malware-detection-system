#! /bin/sh

while [ "$sel" != "4" ]
do
echo "Enter an option. ";
echo "1.Scan computer";
echo "2.start log";
echo "3.Advanced scan";
echo "4.exit";
read sel
case $sel in
1)
count=`grep "delete" *|wc -l`
if [ $count -ne 0 ]
then
     echo "Virus is found"
     fname=`grep -l "delete" *`
     echo "$fname";
     echo "Enter an option"
     echo "1.Keep the file"
     echo "2.Delete the file"
     read option
     
     if [ $option -eq 2 ] 
     then
     rm $fname
     fi
else
     echo "Computer is safe"
fi
;;
2)
read -p "Enter a name for log file : " n3
script $n3.log
;;

3)
echo "Enter a malicious pattern to search"
read p
count=`grep -o -w "$p" * | wc -w`
if [ $count -ne 0 ]
then
     echo "Virus is found in"
     fname=`grep -l "$p" *`
     echo "$fname";
     echo "Enter an option"
     echo "1.Keep the file"
     echo "2.Delete the file"
     read option
     
     if [ $option -eq 2 ] 
     then
     rm $fname
     fi
else
     echo "Computer is safe"
fi
;;

esac
done



